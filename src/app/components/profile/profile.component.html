<div class="max-w-3xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg">
  <h1 class="text-2xl font-bold mb-6 text-center">Perfil de Usuario</h1>

  @if (user) {
  <div
    class="flex flex-col md:flex-row items-center gap-6 p-5 bg-gray-100 rounded-lg shadow-md"
  >
    <img
      [src]="user.picture"
      class="rounded-full w-24 h-24 border border-gray-400 shadow-sm"
      alt="Profile picture"
    />
    <div class="text-center md:text-left">
      <h2 class="text-xl font-semibold text-gray-800">{{ user.name }}</h2>
      <p class="text-gray-600 text-sm">{{ user.email }}</p>
    </div>
  </div>

  <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="bg-blue-50 p-4 rounded-lg shadow-md">
      <h2 class="text-lg font-semibold mb-3 text-blue-800">Roles</h2>
      @if (roles.length) {
      <ul class="list-disc list-inside">
        @for (role of roles; track role) {
        <li class="text-blue-600">{{ role }}</li>
        }
      </ul>
      } @else {
      <p class="text-gray-500">No hay roles asignados</p>
      }
    </div>

    <div class="bg-green-50 p-4 rounded-lg shadow-md">
      <h2 class="text-lg font-semibold mb-3 text-green-800">Permisos</h2>
      @if (permissions.length) {
      <ul class="list-disc list-inside">
        @for (permission of permissions; track permission) {
        <li class="text-green-600">{{ permission }}</li>
        }
      </ul>
      } @else {
      <p class="text-gray-500">No hay permisos asignados</p>
      }
    </div>
  </div>

  <div class="mt-6 bg-gray-50 p-4 rounded-lg shadow-md">
    <div class="flex justify-between items-center mb-3">
      <h2 class="text-lg font-semibold text-gray-800">Token de Acceso</h2>
      <button
        (click)="showToken = !showToken"
        class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-sm transition-colors"
      >
        {{ showToken ? "Ocultar" : "Mostrar" }} Token
      </button>
    </div>
    @if (token && showToken) {
    <div class="bg-gray-900 text-white p-4 rounded-lg overflow-auto">
      <pre class="text-xs">{{ token }}</pre>
    </div>
    }
  </div>

  <div
    class="mt-6 bg-gray-900 text-white p-4 rounded-lg shadow-md overflow-auto"
  >
    <h2 class="text-lg font-semibold mb-3">Datos JSON</h2>
    <pre class="text-sm whitespace-pre-wrap">{{ profileJson }}</pre>
  </div>
  } @else {
  <p class="text-center text-gray-500">Cargando perfil...</p>
  }
</div>
